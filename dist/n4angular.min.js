"use strict";!function(t){t.module("n4AuthenticationInterceptor",[]).config(["$httpProvider",function(t){t.interceptors.unshift("n4AuthenticationInterceptor")}]).provider("n4AuthenticationInterceptor",[function(){var t=this;t.redirectURL=void 0,t.notAuthenticatedMessage="Usuário não autenticado.",t.statusHttp=401,t.$get=["$q","$window","$log",function(n,e,i){return{responseError:function(o){return o.status===t.statusHttp&&(i.error(t.notAuthenticatedMessage),e.location.replace(t.redirectURL)),n.reject(o)}}}]}])}(angular),!function(t){t.module("n4CodigoFilter",[]).filter("Codigo",function(){return function(t,n,e){if(!t)return"";if(isNaN(t))return t;for(t=t.toString().trim(),n=n||6,e=e||"0";t.length<n;)t=e+t;return t}})}(angular),!function(t){t.module("n4CpfCnpjFilter",[]).filter("CpfCnpj",function(){return function(t){if(!t)return"";var n=t.replace(/\D/g,"");return 14===n.length?n.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):11===n.length?n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):""}})}(angular),!function(t){t.module("n4DateInput",[]).directive("n4DateInput",["$filter",function(t){return{require:"ngModel",restrict:"EAC",replace:!0,template:'<input type="text">',link:function(n,e,i,o){var r=function(n){if(!n)return"";var e,o,r,a=function(n){return isNaN(n)?"":t("date")(n,"dd/MM/yyyy")};return n instanceof Date?a(n):(e=n.replace(/\D/gi,""),o=new RegExp("^(\\d{2})(\\d{2})(\\d{2})$","gi"),o.test(e)?(r=new Date(e.replace(o,"$2/$1/"+(i.century||"20")+"$3")),a(r)):(o=new RegExp("^(\\d{2})(\\d{2})(\\d{4})$","gi"),o.test(e)?(r=new Date(e.replace(o,"$2/$1/$3")),a(r)):(o=new RegExp("^\\w{3} \\w{3} \\d{1,2} \\d{4} .*$","gi"),o.test(n)?a(new Date(n)):n)))},a=function(t){var n=r(t),e=new RegExp("^(\\d{2})/(\\d{2})/(\\d{4})$","gi");return e.test(n)?new Date(n.replace(e,"$2/$1/$3")):null};e.attr("placeholder")||e.attr("placeholder","00/00/0000"),e.attr("maxlength",10),o.$formatters.push(r),o.$parsers.push(a)}}}])}(angular),!function(t){t.module("n4ExceptionInterceptor",[]).config(["$httpProvider",function(t){t.interceptors.unshift("n4ExceptionInterceptor")}]).provider("n4ExceptionInterceptor",[function(){var t=this;t.errorMessage="Serviço indisponível, tente novamente.",t.$get=["$q","$window","$log",function(n,e,i){return{responseError:function(e){return e.status=e.status||400,e.data?n.reject(angular.extend(new TypeError(e.data),{status:e.status})):(i.error(e),n.reject(angular.extend(new TypeError(t.errorMessage),{status:e.status})))}}}]}])}(angular),!function(t){t.module("n4FileSizeFilter",[]).filter("FileSize",["numberFilter",function(t){return function(n,e){if(isNaN(parseFloat(n))||!isFinite(n))return 0;e=e||1;var i=["bytes","KB","MB","GB","TB","PB"],o=Math.floor(Math.log(n)/Math.log(1024));return t(n/Math.pow(1024,Math.floor(o)),e)+" "+i[o]}}])}(angular),!function(t){t.module("n4FileUpload.directives",["n4FileUpload.services"]).directive("n4FileUploadDirective",["$timeout","n4FileUploadService",function(t,n){return{require:"ngModel",restrict:"A",scope:{text:"@",notify:"&n4FileUploadDirective"},template:["<label>","  <figure></figure>","  {{text}}",'  <input class="bt-arquivo" type="file"/>',"</label>"].join(""),replace:!0,link:function(t,e,i,o){e.find("label").addClass(i.buttonClass),e.find("figure").addClass(i.iconClass),e.find("input").addClass(i.inputClass),e.on("change",function(e){n.send(e.target.files).then(function(n){o.$setViewValue(n),t.notify()})}),t.$on("$destroy",function(){e.off("change")})}}}])}(angular),function(t){t.module("n4FileUpload.services",[]).provider("n4FileUploadService",function(){var t=this;this.endpoint="",this.$get=["$http",function(n){return{send:function(e,i){for(var o=new FormData,r=e.length-1;r>=0;r-=1)o.append("file_"+r,e[r]);return n({method:"POST",url:i||t.endpoint,headers:{"Content-Type":void 0},data:o}).then(function(t){return t.data})},"delete":function(e,i){return n["delete"](i||t.endpoint,{params:{url:e}}).then(function(t){return t.data})}}}]})}(angular),!function(t){t.module("n4Modal",[]).directive("n4Modal",["$timeout",function(t){return{restrict:"A",transclude:!0,replace:!0,scope:{visible:"=n4Modal"},template:'<div class="n4-modal"><div class="n4-modal-container" ng-transclude=""></div><div class="n4-modal-background"></div></div>',link:function(n,e){var i=n.$watch("visible",function(t){t?e.addClass("visible"):e.removeClass("visible")});e.on("click",".n4-modal-background, .n4-modal-close",function(){t(function(){n.visible=!1})}),n.$on("$destroy",function(){e.off("click"),i()})}}}])}(angular),!function(t){t.module("n4Notifications.models",[]).factory("N4NotificationModel",function(){var t=function(t){this.type="information",this.message=null,this.primaryButtonText=null,this.secondaryButtonText=null,this.callback=null,angular.extend(this,t)};return t})}(angular),function(t){t.module("n4Notifications",["ngAnimate","n4Notifications.directives","n4Notifications.models","n4Notifications.services"])}(angular),function(t){t.module("n4Notifications.directives",["n4Notifications.models","n4Notifications.services"]).directive("n4Notifications",["n4NotificationsService",function(t){return{restrict:"E",replace:!0,scope:{},template:['<div class="notifications">','  <div class="notification" ng-class="notification.type" ng-repeat="notification in service.notifications">','    <div class="text" data-ng-bind="notification.message"></div>','    <div class="actions">','      <a class="secondary" href="" data-ng-if="notification.secondaryButtonText" data-ng-bind="notification.secondaryButtonText" data-ng-click="notification.callback(notification.secondaryButtonText)"></a>','      <a class="primary" href="" data-ng-bind="notification.primaryButtonText" data-ng-click="notification.callback(notification.primaryButtonText)"></a>',"    </div>","</div>","</div>"].join(""),link:function(n){n.service=t}}}])}(angular),function(t){t.module("n4Notifications.services",["n4Notifications.models"]).service("n4NotificationsService",["N4NotificationModel","$q","$timeout",function(t,n,e){var i=function(){this.notifications=[]};return i.prototype={notify:function(i,o,r,a,c){var u,l=this,s=n.defer(),f=new t({type:i,message:o,primaryButtonText:r,secondaryButtonText:a,callback:function(t){e.cancel(u),l.notifications.splice(l.notifications.indexOf(this),1),t=t||this.primaryButtonText,s.resolve(t),c&&c(t)}});return a||(u=e(function(){f.callback(r)},15e3)),this.notifications.unshift(f),s.promise},notifySuccess:function(t,n,e,i){return this.notify("success",t,n,e,i)},notifyInformation:function(t,n,e){return this.notify("information",t,n,null,e)},notifyAlert:function(t,n,e,i){return this.notify("alert",t,n,e,i)}},new i}])}(angular),!function(t){t.module("n4NumberInput",[]).directive("n4NumberInput",[function(){return{require:"ngModel",restrict:"EAC",replace:!0,template:'<input type="text">',link:function(t,n,e,i){var o=function(t){return t?t.trim().replace(/[^0-9]/g,""):""},r=function(t){var n=o(t);return n!==t&&(i.$setViewValue(n),i.$render()),n};i.$formatters.unshift(r),i.$parsers.unshift(r)}}}])}(angular),!function(t){t.module("n4OnBottom",[]).directive("n4OnBottom",["$document","$window","$timeout",function(t,n,e){return{restrict:"A",scope:{onBottom:"&n4OnBottom"},compile:function(i,o){return function(i,o,r){r.$observe("onWindowBottom",function(r){/true/i.test(r)?(o.off("scroll"),$(n).on("scroll",function(){$(n).scrollTop()+$(n).height()===$(t).height()&&e(i.onBottom)})):($(n).off("scroll"),o.on("scroll",function(){o.scrollTop()+o.innerHeight()>=this.scrollHeight&&e(i.onBottom)}))}),i.$on("$destroy",function(){o.off("scroll"),$(n).off("scroll")})}}}}])}(angular),function(t){t.module("n4-angular.interceptors",["n4ExceptionInterceptor","n4AuthenticationInterceptor"]),t.module("n4-angular.filters",["n4FileSizeFilter","n4CodigoFilter","n4CpfCnpjFilter"]),t.module("n4-angular.directives",["n4Notifications","n4Modal","n4OnBottom","n4DateInput","n4NumberInput"]),t.module("n4-angular",["n4-angular.interceptors","n4-angular.filters","n4-angular.directives"])}(angular);